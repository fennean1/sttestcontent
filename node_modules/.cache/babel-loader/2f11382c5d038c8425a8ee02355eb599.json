{"ast":null,"code":"var _jsxFileName = \"/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/components/Arena.js\";\nimport React, { Component } from \"react\";\nimport Paper from '@material-ui/core/Paper';\nimport Drawer from '@material-ui/core/Drawer';\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport * as Pixi from \"pixi.js\";\n\nclass Arena extends Component {\n  constructor() {\n    super();\n    this.app = {};\n    this.state = {\n      open: false,\n      loaded: false\n    };\n  }\n\n  handleClose() {\n    this.setState({\n      open: false\n    });\n  }\n\n  componentWillUnmount() {\n    this.props.app.resizable = false;\n    let children = this.props.app.stage.children;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      this.props.app.stage.removeChild(children[i]);\n    }\n\n    ;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      children[i].destroy(true);\n    }\n\n    ;\n  }\n\n  componentWillMount() {\n    // Setting up app.\n    //this.props.app = new Pixi.Application(0,0,{backgroundColor: 0xffffff,antialias: true});\n    console.log(\"calling component will mount\");\n\n    window.onresize = () => this.resize();\n\n    this.props.app.renderer.backgroundColor = 0xffffff;\n    this.props.app.renderer.resolution = 3;\n    this.props.app.renderer.autoDensity = true;\n    this.props.app.stage.y = 0;\n  }\n\n  loadInstructions() {\n    this.setState({\n      open: true\n    });\n  }\n\n  resize() {\n    console.log(\"this.props.app.resizable\", this.props.app.resizable);\n\n    if (this.props.app.resizable) {\n      this.props.app.resize({\n        width: this.gameCanvas.clientWidth,\n        height: this.gameCanvas.clientHeight\n      });\n    } else {\n      console.log(\"redrawing\");\n      this.redraw();\n    }\n  }\n\n  redraw() {\n    let children = this.props.app.stage.children;\n    this.props.app.stage.y = 0;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      this.props.app.stage.removeChild(children[i]);\n    }\n\n    ;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      children[i].destroy(true);\n    }\n\n    ;\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth, this.gameCanvas.clientHeight);\n    this.props.script(this.props.app, setup);\n  }\n\n  componentDidMount() {\n    this.setState({\n      loaded: true\n    });\n    this.setState({\n      panelNumber: this.props.panelNumber\n    }); // Attached app view to gameCanvas\n\n    this.gameCanvas.appendChild(this.props.app.view);\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.help = () => this.loadInstructions();\n\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth, this.gameCanvas.clientHeight);\n    this.props.script(this.props.app, setup);\n    console.log(\"game canvas\", this.gameCanvas);\n  }\n\n  printList(items) {\n    console.log('items', items);\n\n    if (items) {\n      return items.map(q => {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"\\u2022 \\u0085\" + q, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }));\n      });\n    }\n  }\n\n  animate() {\n    var tl = new TimelineMax();\n    tl.to(this.gameCanvas, 0.5, {\n      x: this.gameCanvas.clientWidth,\n      alpha: 0\n    }).to(this.gameCanvas, 0, {\n      x: -this.gameCanvas.clientWidth,\n      alpha: 1\n    }).to(this.gameCanvas, 1, {\n      x: 0\n    });\n  }\n\n  render() {\n    let styleType = this.props.fullscreen ? {\n      height: \"90vh\",\n      marginTop: 0\n    } : null;\n\n    if (this.state.loaded && this.props.panelNumber != this.state.panelNumber) {\n      setTimeout(() => this.redraw(), 500);\n      this.setState({\n        panelNumber: this.props.panelNumber\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Drawer, {\n      anchor: \"left\",\n      open: this.state.open,\n      onClose: this.handleClose.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: \"padded margins \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"Questions\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, this.printList(this.props.lesson.questions)))), React.createElement(\"div\", {\n      style: styleType,\n      ref: me => {\n        this.gameCanvas = me;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Arena;","map":{"version":3,"sources":["/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/components/Arena.js"],"names":["React","Component","Paper","Drawer","TweenMax","TimelineLite","Power2","Elastic","CSSPlugin","TweenLite","TimelineMax","Pixi","Arena","constructor","app","state","open","loaded","handleClose","setState","componentWillUnmount","props","resizable","children","stage","i","length","removeChild","destroy","componentWillMount","console","log","window","onresize","resize","renderer","backgroundColor","resolution","autoDensity","y","loadInstructions","width","gameCanvas","clientWidth","height","clientHeight","redraw","setup","script","componentDidMount","panelNumber","appendChild","view","help","printList","items","map","q","animate","tl","to","x","alpha","render","styleType","fullscreen","marginTop","setTimeout","bind","lesson","questions","me"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Paper from '@material-ui/core/Paper';\nimport Drawer from '@material-ui/core/Drawer';\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\n\nimport * as Pixi from \"pixi.js\";\n\nclass Arena extends Component {\n  constructor() {\n    super();\n    this.app = {};\n    this.state = {\n      open: false,\n      loaded: false,\n    }\n  }\n\n handleClose() {\n  this.setState({open: false})\n  };\n\n  componentWillUnmount(){\n    this.props.app.resizable = false\n    let children = this.props.app.stage.children\n    for (var i = children.length - 1; i >= 0; i--) {\tthis.props.app.stage.removeChild(children[i]);};\n    for (var i = children.length - 1; i >= 0; i--) {\tchildren[i].destroy(true);};\n  }\n\n  componentWillMount() {\n    // Setting up app.\n    //this.props.app = new Pixi.Application(0,0,{backgroundColor: 0xffffff,antialias: true});\n    console.log(\"calling component will mount\")\n    window.onresize = () => this.resize()\n    this.props.app.renderer.backgroundColor = 0xffffff;\n    this.props.app.renderer.resolution = 3\n    this.props.app.renderer.autoDensity = true\n    this.props.app.stage.y = 0\n  }\n\n  loadInstructions(){\n    this.setState({open: true})\n  }\n\n  resize(){\n    console.log(\"this.props.app.resizable\",this.props.app.resizable)\n    if (this.props.app.resizable){\n      this.props.app.resize({width: this.gameCanvas.clientWidth,height: this.gameCanvas.clientHeight})\n    } else {\n      console.log(\"redrawing\")\n      this.redraw()\n    }\n  }\n\n  redraw(){\n    let children = this.props.app.stage.children\n    this.props.app.stage.y = 0\n    for (var i = children.length - 1; i >= 0; i--) {\tthis.props.app.stage.removeChild(children[i]);};\n    for (var i = children.length - 1; i >= 0; i--) {\tchildren[i].destroy(true);};\n\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth,this.gameCanvas.clientHeight)\n    this.props.script(this.props.app, setup);\n  }\n\n  componentDidMount() {\n    this.setState({loaded: true})\n    this.setState({panelNumber: this.props.panelNumber})\n    // Attached app view to gameCanvas\n    this.gameCanvas.appendChild(this.props.app.view);\n\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.help = () => this.loadInstructions()\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth,this.gameCanvas.clientHeight)\n    this.props.script(this.props.app, setup);\n    console.log(\"game canvas\",this.gameCanvas)\n\n  }\n\n  printList(items){\n    console.log('items',items)\n    if (items){return items.map(q=>{return <p>{\"\\u2022 \\u0085\"+q}<br/><br/></p>})}\n \n  }\n\n  animate(){\n    var tl = new TimelineMax()\n    tl.to(this.gameCanvas, 0.5, {x: this.gameCanvas.clientWidth,alpha: 0})\n      .to(this.gameCanvas,0, {x: -this.gameCanvas.clientWidth,alpha: 1})\n      .to(this.gameCanvas,1,{x: 0})\n  }\n\n  render() { \n    let styleType = this.props.fullscreen ? { height: \"90vh\",marginTop: 0 } : null;\n\n    if (this.state.loaded && this.props.panelNumber != this.state.panelNumber) {\n      setTimeout(()=>this.redraw(),500) \n      this.setState({panelNumber: this.props.panelNumber})\n    }\n\n    return (\n        <div>\n        <Drawer anchor=\"left\"  open={this.state.open} onClose={this.handleClose.bind(this)}>\n          <Paper className = \"padded margins \">\n            <span >Questions</span>\n              <p>{this.printList(this.props.lesson.questions)}</p>\n          </Paper>\n        </Drawer>\n        <div style = {styleType}\n          ref={me => {\n            this.gameCanvas = me;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Arena;\n"]},"metadata":{},"sourceType":"module"}