{"ast":null,"code":"import * as PIXI from \"pixi.js\";\nimport blueGradient from \"../assets/blue-gradient.png\";\nimport * as CONST from \"./const.js\";\nimport QuestionMark from '../assets/QuestionMark.png';\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport { Fraction, Draggable } from \"./api.js\";\nconst ASSETS = CONST.ASSETS;\nexport const init = (app, setup) => {\n  // Constants\n  const BLUE_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.BLUE_CIRCLE);\n  const PIN_TEXTURE = new PIXI.Texture.from(ASSETS.SHARP_PIN);\n  const LINE_PERCENTAGE = 0.8; // Layout Parameters\n\n  let WINDOW_WIDTH = setup.width;\n  let BAR_HEIGHT = setup.height / 15;\n  let WINDOW_HEIGHT = setup.height;\n  let H_W_RATIO = setup.height / setup.width;\n  let LANDSCAPE = H_W_RATIO < 3 / 4;\n  let ARENA_WIDTH = LANDSCAPE ? 4 / 3 * setup.height : setup.width;\n  let ARENA_HEIGHT = LANDSCAPE ? setup.height : 3 / 4 * setup.width; // Called on resize\n\n  function resize(newFrame, flex) {\n    // Make sure all layout parameters are up to date.\n    updateLayoutParams(newFrame);\n    app.renderer.resize(WINDOW_WIDTH, WINDOW_HEIGHT);\n  }\n\n  function updateLayoutParams(newFrame) {\n    let frame;\n\n    if (newFrame) {\n      frame = newFrame;\n    } else {\n      frame = {\n        width: WINDOW_WIDTH,\n        height: WINDOW_HEIGHT\n      };\n    }\n\n    WINDOW_WIDTH = frame.width;\n    WINDOW_HEIGHT = frame.height;\n    H_W_RATIO = frame.height / frame.width;\n    LANDSCAPE = H_W_RATIO < 3 / 4;\n    ARENA_WIDTH = LANDSCAPE ? 4 / 3 * frame.height : frame.width;\n    ARENA_HEIGHT = LANDSCAPE ? frame.height : 3 / 4 * frame.width;\n  } // Loading Script\n\n\n  function load() {\n    let features = {};\n\n    if (setup.props.features) {\n      features = setup.props.features;\n    }\n\n    let f = new Fraction(3, 400, 100);\n    f.x = 100;\n    f.y = 100;\n    app.stage.addChild(f);\n    let d = new Draggable(PIN_TEXTURE);\n    app.stage.addChild(d);\n    d.on('pointerdown', () => {\n      console.log(\"poop\");\n    });\n  } // Call load script\n\n\n  load(); // Not sure where else to put this.\n\n  app.resize = frame => resize(frame);\n\n  app.resizable = true;\n};","map":{"version":3,"sources":["/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/js/apitest.js"],"names":["PIXI","blueGradient","CONST","QuestionMark","TweenMax","TimelineLite","Power2","Elastic","CSSPlugin","TweenLite","TimelineMax","Fraction","Draggable","ASSETS","init","app","setup","BLUE_TEXTURE","Texture","from","BLUE_CIRCLE","PIN_TEXTURE","SHARP_PIN","LINE_PERCENTAGE","WINDOW_WIDTH","width","BAR_HEIGHT","height","WINDOW_HEIGHT","H_W_RATIO","LANDSCAPE","ARENA_WIDTH","ARENA_HEIGHT","resize","newFrame","flex","updateLayoutParams","renderer","frame","load","features","props","f","x","y","stage","addChild","d","on","console","log","resizable"],"mappings":"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","sourcesContent":["import * as PIXI from \"pixi.js\";\nimport blueGradient from \"../assets/blue-gradient.png\";\nimport * as CONST from \"./const.js\";\nimport QuestionMark from '../assets/QuestionMark.png'\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport {Fraction, Draggable} from \"./api.js\"\nconst ASSETS = CONST.ASSETS\n\n\nexport const init = (app, setup) => {\n \n\n  // Constants\n  const BLUE_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.BLUE_CIRCLE)\n  const PIN_TEXTURE = new PIXI.Texture.from(ASSETS.SHARP_PIN)\n  const LINE_PERCENTAGE = 0.8\n\n  // Layout Parameters\n  let WINDOW_WIDTH = setup.width\n  let BAR_HEIGHT = setup.height/15\n  let WINDOW_HEIGHT = setup.height\n  let H_W_RATIO = setup.height/setup.width\n  let LANDSCAPE = H_W_RATIO < 3/4\n  let ARENA_WIDTH = LANDSCAPE ? 4/3*setup.height : setup.width\n  let ARENA_HEIGHT = LANDSCAPE ? setup.height : 3/4*setup.width\n  \n  // Called on resize\n  function resize(newFrame,flex){\n    // Make sure all layout parameters are up to date.\n    updateLayoutParams(newFrame)\n    app.renderer.resize(WINDOW_WIDTH,WINDOW_HEIGHT)\n  }\n\n  function updateLayoutParams(newFrame){\n    let frame;\n    if (newFrame){\n      frame = newFrame\n    } else {\n      frame = {width: WINDOW_WIDTH,height: WINDOW_HEIGHT}\n    }\n    WINDOW_WIDTH = frame.width\n    WINDOW_HEIGHT = frame.height\n    H_W_RATIO = frame.height/frame.width\n    LANDSCAPE = H_W_RATIO < 3/4\n    ARENA_WIDTH = LANDSCAPE ? 4/3*frame.height : frame.width\n    ARENA_HEIGHT = LANDSCAPE ? frame.height : 3/4*frame.width\n  }\n\n  // Loading Script\n  function load(){\n    let features = {}\n    if (setup.props.features){\n      features = setup.props.features\n    }\n\n\n\n    let f = new Fraction(3,400,100)\n    f.x = 100 \n    f.y = 100\n    app.stage.addChild(f)\n\n    let d = new Draggable(PIN_TEXTURE)\n    app.stage.addChild(d)\n    d.on('pointerdown',()=>{console.log(\"poop\")})\n\n\n  }\n\n  // Call load script\n  load()\n  // Not sure where else to put this.\n  app.resize = (frame) => resize(frame)\n  app.resizable = true\n};\n"]},"metadata":{},"sourceType":"module"}