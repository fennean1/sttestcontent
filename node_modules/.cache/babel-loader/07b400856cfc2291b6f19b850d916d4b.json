{"ast":null,"code":"var _jsxFileName = \"/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/components/Arena.js\";\nimport React, { Component } from \"react\";\nimport Paper from '@material-ui/core/Paper';\nimport Drawer from '@material-ui/core/Drawer';\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport * as Pixi from \"pixi.js\";\n\nclass Arena extends Component {\n  constructor() {\n    super();\n    this.app = {};\n    this.state = {\n      open: false,\n      loaded: false\n    };\n  }\n\n  handleClose() {\n    this.setState({\n      open: false\n    });\n  }\n\n  componentWillUnmount() {\n    let children = this.props.app.stage.children;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      this.props.app.stage.removeChild(children[i]);\n    }\n\n    ;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      children[i].destroy(true);\n    }\n\n    ;\n  }\n\n  componentWillMount() {\n    // Setting up app.\n    //this.props.app = new Pixi.Application(0,0,{backgroundColor: 0xffffff,antialias: true});\n    window.onresize = () => this.resize();\n\n    this.props.app.renderer.backgroundColor = 0xffffff;\n    this.props.app.renderer.resolution = 3;\n    this.props.app.renderer.autoDensity = true;\n    this.props.app.stage.y = 0;\n  }\n\n  loadInstructions() {\n    this.setState({\n      open: true\n    });\n  }\n\n  resize() {\n    this.props.app.resize({\n      width: this.gameCanvas.clientWidth,\n      height: this.gameCanvas.clientHeight\n    });\n  }\n\n  redraw() {\n    let children = this.props.app.stage.children;\n    this.props.app.stage.y = 0;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      this.props.app.stage.removeChild(children[i]);\n    }\n\n    ;\n\n    for (var i = children.length - 1; i >= 0; i--) {\n      children[i].destroy(true);\n    }\n\n    ;\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth, this.gameCanvas.clientHeight);\n    this.props.script(this.props.app, setup);\n  }\n\n  componentDidMount() {\n    this.setState({\n      loaded: true\n    });\n    this.setState({\n      panelNumber: this.props.panelNumber\n    }); // Attached app view to gameCanvas\n\n    this.gameCanvas.appendChild(this.props.app.view);\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.help = () => this.loadInstructions();\n\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth, this.gameCanvas.clientHeight);\n    this.props.script(this.props.app, setup);\n    console.log(\"game canvas\", this.gameCanvas);\n  }\n\n  printList(items) {\n    console.log('items', items);\n\n    if (items) {\n      return items.map(q => {\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"\\u2022 \\u0085\" + q, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }));\n      });\n    }\n  }\n\n  animate() {\n    var tl = new TimelineMax();\n    tl.to(this.gameCanvas, 0.5, {\n      x: this.gameCanvas.clientWidth,\n      alpha: 0\n    }).to(this.gameCanvas, 0, {\n      x: -this.gameCanvas.clientWidth,\n      alpha: 1\n    }).to(this.gameCanvas, 1, {\n      x: 0\n    });\n  }\n\n  render() {\n    let styleType = this.props.fullscreen ? {\n      height: \"90vh\",\n      marginTop: 0\n    } : null;\n\n    if (this.state.loaded && this.props.panelNumber != this.state.panelNumber) {\n      setTimeout(() => this.redraw(), 500);\n      this.setState({\n        panelNumber: this.props.panelNumber\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Drawer, {\n      anchor: \"left\",\n      open: this.state.open,\n      onClose: this.handleClose.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: \"padded margins \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Questions\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.printList(this.props.lesson.questions)))), React.createElement(\"div\", {\n      className: \"container\",\n      style: styleType,\n      ref: me => {\n        this.gameCanvas = me;\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Arena;","map":{"version":3,"sources":["/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/components/Arena.js"],"names":["React","Component","Paper","Drawer","TweenMax","TimelineLite","Power2","Elastic","CSSPlugin","TweenLite","TimelineMax","Pixi","Arena","constructor","app","state","open","loaded","handleClose","setState","componentWillUnmount","children","props","stage","i","length","removeChild","destroy","componentWillMount","window","onresize","resize","renderer","backgroundColor","resolution","autoDensity","y","loadInstructions","width","gameCanvas","clientWidth","height","clientHeight","redraw","setup","script","componentDidMount","panelNumber","appendChild","view","help","console","log","printList","items","map","q","animate","tl","to","x","alpha","render","styleType","fullscreen","marginTop","setTimeout","bind","lesson","questions","me"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Paper from '@material-ui/core/Paper';\nimport Drawer from '@material-ui/core/Drawer';\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\n\nimport * as Pixi from \"pixi.js\";\n\nclass Arena extends Component {\n  constructor() {\n    super();\n    this.app = {};\n    this.state = {\n      open: false,\n      loaded: false,\n    }\n  }\n\n handleClose() {\n  this.setState({open: false})\n  };\n\n  componentWillUnmount(){\n    let children = this.props.app.stage.children\n    for (var i = children.length - 1; i >= 0; i--) {\tthis.props.app.stage.removeChild(children[i]);};\n    for (var i = children.length - 1; i >= 0; i--) {\tchildren[i].destroy(true);};\n  }\n\n  componentWillMount() {\n    // Setting up app.\n    //this.props.app = new Pixi.Application(0,0,{backgroundColor: 0xffffff,antialias: true});\n    window.onresize = () => this.resize()\n    this.props.app.renderer.backgroundColor = 0xffffff;\n    this.props.app.renderer.resolution = 3\n    this.props.app.renderer.autoDensity = true\n    this.props.app.stage.y = 0\n  }\n\n  loadInstructions(){\n    this.setState({open: true})\n  }\n\n  resize(){\n    this.props.app.resize({width: this.gameCanvas.clientWidth,height: this.gameCanvas.clientHeight})\n  }\n\n  redraw(){\n    let children = this.props.app.stage.children\n    this.props.app.stage.y = 0\n    for (var i = children.length - 1; i >= 0; i--) {\tthis.props.app.stage.removeChild(children[i]);};\n    for (var i = children.length - 1; i >= 0; i--) {\tchildren[i].destroy(true);};\n\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth,this.gameCanvas.clientHeight)\n    this.props.script(this.props.app, setup);\n  }\n\n  componentDidMount() {\n    this.setState({loaded: true})\n    this.setState({panelNumber: this.props.panelNumber})\n    // Attached app view to gameCanvas\n    this.gameCanvas.appendChild(this.props.app.view);\n\n    const setup = {\n      height: this.gameCanvas.clientHeight,\n      width: this.props.width != null ? this.props.width : this.gameCanvas.clientWidth,\n      props: this.props\n    };\n\n    this.props.app.help = () => this.loadInstructions()\n    this.props.app.renderer.resize(this.gameCanvas.clientWidth,this.gameCanvas.clientHeight)\n    this.props.script(this.props.app, setup);\n    console.log(\"game canvas\",this.gameCanvas)\n\n  }\n\n  printList(items){\n    console.log('items',items)\n    if (items){return items.map(q=>{return <p>{\"\\u2022 \\u0085\"+q}<br/><br/></p>})}\n \n  }\n\n  animate(){\n    var tl = new TimelineMax()\n    tl.to(this.gameCanvas, 0.5, {x: this.gameCanvas.clientWidth,alpha: 0})\n      .to(this.gameCanvas,0, {x: -this.gameCanvas.clientWidth,alpha: 1})\n      .to(this.gameCanvas,1,{x: 0})\n  }\n\n  render() { \n    let styleType = this.props.fullscreen ? { height: \"90vh\",marginTop: 0 } : null;\n\n    if (this.state.loaded && this.props.panelNumber != this.state.panelNumber) {\n      setTimeout(()=>this.redraw(),500) \n      this.setState({panelNumber: this.props.panelNumber})\n    }\n\n    return (\n        <div>\n        <Drawer anchor=\"left\"  open={this.state.open} onClose={this.handleClose.bind(this)}>\n          <Paper className = \"padded margins \">\n            <span >Questions</span>\n              <p>{this.printList(this.props.lesson.questions)}</p>\n          </Paper>\n        </Drawer>\n        <div className = \"container\" style = {styleType}\n          ref={me => {\n            this.gameCanvas = me;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Arena;\n"]},"metadata":{},"sourceType":"module"}