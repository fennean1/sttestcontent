{"ast":null,"code":"import * as PIXI from \"pixi.js\";\nimport * as CONST from \"./const.js\";\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport { thisExpression } from \"@babel/types\";\nconst ASSETS = CONST.ASSETS;\nexport class Draggable extends PIXI.Sprite {\n  constructor(texture) {\n    super();\n    this.dragged = false;\n    this.touching = false;\n    this.interactive = true;\n    this.texture = texture;\n    this.on('pointerdown', this.defaultPointerDown);\n    this.on('pointerup', this.defaultPointerDown);\n    this.on('pointerupoutside', this.defaultPointerDown);\n    this.on('pointermove', this.defaultPointerMove);\n  } //pointerDown(e){}\n  //pointerUp(e){}\n  //pointerMove(e){}\n  //pointerUpOutside(e){}\n\n\n  defaultPointerDown(event) {\n    //this.pointerDown(event)\n    console.log(\"pointer down!!!\");\n    this.touching = true;\n    this.lockX = false;\n    this.lockY = false;\n    this.deltaTouch = {\n      x: this.x - event.data.global.x,\n      y: this.y - event.data.global.y\n    };\n  }\n\n  defaultPointerUp(event) {\n    //this.pointerUp(event)\n    this.touching = false;\n  }\n\n  defaultPointerMove(event) {\n    //this.pointerMove(event)\n    if (this.touching) {\n      if (!this.lockX) {\n        this.x = event.data.global.x + this.deltaTouch.x;\n      }\n\n      if (!this.lockY) {\n        this.y = event.data.global.y + this.deltaTouch.y;\n      }\n\n      this.dragged = true;\n    }\n  }\n\n  defaultPointerUpOutside(event) {\n    //this.pointerUpOutside(event)\n    this.touching = false;\n  }\n\n}\nexport class Fraction extends PIXI.Container {\n  constructor(n, d, w) {\n    super();\n    this.numerator = n + \"\";\n    this.denominator = d + \"\";\n    this.numDigits = this.numerator.length;\n    this.denDigits = this.denominator.length;\n    this.maxDigits = Math.max(this.numDigits, this.denDigits);\n    this.fontSize = w / this.maxDigits;\n    this.compression = 0.6;\n    this.lineCompression = 20;\n\n    if (this.maxDigits == 3) {\n      this.compression = 0.8;\n      this.lineCompression = 30;\n    } else if (this.maxDigits == 2) {\n      this.compression = 0.7;\n      this.lineCompression = 25;\n    } // Numerator\n\n\n    this.N = new PIXI.Text();\n    this.N.anchor.x = 0.5;\n    this.N.x = w / 2;\n    this.N.y = 0;\n    this.N.text = n;\n    console.log(\"this.N.width\", this.N.width);\n    this.N.style.fontSize = this.fontSize;\n    this.addChild(this.N); // Denominator\n\n    this.D = new PIXI.Text();\n    this.D.anchor.x = 0.5;\n    this.D.x = w / 2;\n    this.D.y = this.height;\n    this.D.text = d;\n    console.log(\"this.N.width\", this.D.height);\n    this.D.style.fontSize = this.fontSize;\n    this.addChild(this.D); // Mid Line\n\n    this.L = new PIXI.Graphics();\n    this.L.lineStyle(w / this.lineCompression, 0x000000);\n    this.L.lineTo(w, 0);\n    this.L.y = this.height / 2;\n    this.addChild(this.L);\n  }\n\n  set(n, d) {\n    this.numerator = n;\n    this.denominator = d;\n    this.N.text = n;\n    this.D.text = d;\n  }\n\n}","map":{"version":3,"sources":["/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/js/api.js"],"names":["PIXI","CONST","TweenMax","TimelineLite","Power2","Elastic","CSSPlugin","TweenLite","TimelineMax","thisExpression","ASSETS","Draggable","Sprite","constructor","texture","dragged","touching","interactive","on","defaultPointerDown","defaultPointerMove","event","console","log","lockX","lockY","deltaTouch","x","data","global","y","defaultPointerUp","defaultPointerUpOutside","Fraction","Container","n","d","w","numerator","denominator","numDigits","length","denDigits","maxDigits","Math","max","fontSize","compression","lineCompression","N","Text","anchor","text","width","style","addChild","D","height","L","Graphics","lineStyle","lineTo","set"],"mappings":"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","sourcesContent":["import * as PIXI from \"pixi.js\";\nimport * as CONST from \"./const.js\";\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nimport { thisExpression } from \"@babel/types\";\nconst ASSETS = CONST.ASSETS\n\n\nexport class Draggable extends PIXI.Sprite {\n  constructor(texture){\n    super()\n    this.dragged = false\n    this.touching = false\n    this.interactive = true\n    this.texture = texture\n    this.on('pointerdown',this.defaultPointerDown)\n    this.on('pointerup',this.defaultPointerDown)\n    this.on('pointerupoutside',this.defaultPointerDown)\n    this.on('pointermove',this.defaultPointerMove)\n  }\n  //pointerDown(e){}\n  //pointerUp(e){}\n  //pointerMove(e){}\n  //pointerUpOutside(e){}\n\n  defaultPointerDown(event){\n    //this.pointerDown(event)\n    console.log(\"pointer down!!!\")\n    this.touching = true\n    this.lockX = false \n    this.lockY = false\n    this.deltaTouch = {\n      x: this.x - event.data.global.x,\n      y: this.y - event.data.global.y\n    }\n  }\n\n  defaultPointerUp(event){\n    //this.pointerUp(event)\n    this.touching = false\n  }\n\n  defaultPointerMove(event){\n    //this.pointerMove(event)\n    if (this.touching){\n      if (!this.lockX){\n        this.x = event.data.global.x + this.deltaTouch.x\n      } \n      if (!this.lockY){\n        this.y = event.data.global.y + this.deltaTouch.y\n      }\n      this.dragged = true\n    }\n  }\n  \n  defaultPointerUpOutside(event){\n    //this.pointerUpOutside(event)\n    this.touching = false\n  }\n}\n\n\n\nexport class Fraction extends PIXI.Container {\n  constructor(n,d,w){\n    super()\n    this.numerator = n+\"\"\n    this.denominator = d+\"\"\n    this.numDigits = this.numerator.length\n    this.denDigits = this.denominator.length \n    this.maxDigits = Math.max(this.numDigits,this.denDigits)\n    this.fontSize = w/(this.maxDigits)\n    this.compression = 0.6\n    this.lineCompression = 20\n\n    if (this.maxDigits == 3){\n      this.compression = 0.8\n      this.lineCompression = 30\n    } else if (this.maxDigits == 2){\n      this.compression = 0.7\n      this.lineCompression = 25\n    }\n\n    // Numerator\n    this.N = new PIXI.Text()\n    this.N.anchor.x = 0.5\n    this.N.x = w/2\n    this.N.y = 0\n    this.N.text = n\n    console.log(\"this.N.width\",this.N.width)\n    this.N.style.fontSize = this.fontSize\n    this.addChild(this.N)\n\n    // Denominator\n    this.D = new PIXI.Text()\n    this.D.anchor.x = 0.5\n    this.D.x = w/2\n    this.D.y = this.height\n    this.D.text = d\n    console.log(\"this.N.width\",this.D.height)\n    this.D.style.fontSize = this.fontSize\n    this.addChild(this.D)\n\n    // Mid Line\n    this.L = new PIXI.Graphics()\n    this.L.lineStyle(w/this.lineCompression,0x000000)\n    this.L.lineTo(w,0)\n    this.L.y = this.height/2\n    this.addChild(this.L)\n\n  }\n\n  set(n,d){\n    this.numerator = n \n    this.denominator = d\n    this.N.text = n\n    this.D.text = d\n  }\n}"]},"metadata":{},"sourceType":"module"}