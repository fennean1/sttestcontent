{"ast":null,"code":"import * as PIXI from \"pixi.js\";\nimport * as CONST from \"./const.js\";\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\nexport const init = (app, setup) => {\n  // Constants\n  const BLUE_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.BLUE_CIRCLE);\n  const RED_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.RED_CIRCLE);\n  const EMPTY_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.EMPTY_CIRCLE);\n  const LOCK_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.LOCKED_LOCK);\n  const UNLOCK_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.UNLOCKED_LOCK); // State - can be used to reconstruct the app at any point in time.\n\n  let state = {\n    pivot: null,\n    val: 0\n  }; // Parameters (Only changes on resize)\n\n  let H_W_RATIO = setup.height / setup.width;\n  let WINDOW_WIDTH = setup.width;\n  let WINDOW_HEIGHT = setup.height;\n  let LANDSCAPE = H_W_RATIO < 3 / 4;\n  let ARENA_WIDTH = LANDSCAPE ? 4 / 3 * setup.height : setup.width;\n  let ARENA_HEIGHT = LANDSCAPE ? setup.height : 3 / 4 * setup.width;\n  let GRID_HEIGHT = 0.75 * WINDOW_HEIGHT;\n  let GRID_WIDTH = GRID_HEIGHT; // Entities - objects that appear on screen\n\n  let lockButton;\n  let backGround;\n  let plusOneButton;\n  let plusTenButton;\n  let minusTenButton;\n  let minusOneButton;\n  let gridCounters; // Circles that represent numbers\n\n  let gridNodes; // Placeholders / small dots\n  // Constructors (should not be called on re-draw)\n  // START HERE: Let's try ot make this grid a container object and give it a redraw property.\n\n  function makeGridNodes(dim) {\n    this.grid = []; // State: Texture: {Hollow,Blue,Red,None} , Hidden: {True,False}\n\n    for (let i = 0; i < dim; i++) {\n      let row = [];\n\n      for (let j = 0; j < dim; j++) {\n        let newNode = new PIXI.Graphics();\n        app.stage.addChild(newNode);\n        row.push(newNode);\n      }\n\n      this.grid.push(row);\n    } // Draw function\n\n\n    this.draw = () => {\n      let dx = GRID_WIDTH / dim;\n      let dy = dx;\n      let w = dx / 5;\n      let h = w;\n      this.grid.map((r, i) => {\n        r.map((e, j) => {\n          let x = WINDOW_WIDTH / 2 - dim / 2 * dx + dx * j;\n          let y = WINDOW_HEIGHT / 2 + dim / 2 * dy - dy * i;\n          e.clear();\n          e.beginFill(0x000000);\n          e.drawCircle(x, y, w / 2);\n        });\n      });\n    };\n\n    this.draw();\n  }\n\n  function makeGridCounters(dim) {\n    this.grid = []; // State: Texture: {Hollow,Blue,Red,None} , Hidden: {True,False}\n\n    for (let i = 0; i < dim; i++) {\n      let row = [];\n\n      for (let j = 0; j < dim; j++) {\n        let newCounter = new PIXI.Sprite();\n        newCounter.texture = null;\n        newCounter.anchor.set(0.5);\n        app.stage.addChild(newCounter);\n        row.push(newCounter);\n      }\n\n      this.grid.push(row);\n    } // Draw function\n\n\n    this.draw = () => {\n      let dx = GRID_WIDTH / dim;\n      let dy = dx;\n      let w = dx;\n      let h = w;\n      this.grid.map((r, i) => {\n        r.map((e, j) => {\n          let x = WINDOW_WIDTH / 2 - dim / 2 * dx + dx * j;\n          let y = WINDOW_HEIGHT / 2 + dim / 2 * dy - dy * i;\n          e.x = x;\n          e.y = y;\n          e.width = w;\n          e.height = h;\n        });\n      });\n    };\n\n    this.draw();\n  }\n\n  function getLockButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.UNLOCKED_LOCK);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 8;\n      let h = w * 0.8;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2 + -w;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => setPivot());\n    btn.draw();\n    return btn;\n  }\n\n  function getZeroButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.ZERO_OUT);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 8;\n      let h = w * 0.8;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2 + -w;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => setPivot());\n    btn.draw();\n    return btn;\n  }\n\n  function getPlusTenButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.PLUS_TEN);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 4;\n      let h = w / 2;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2 + 3 * w;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => updateGrid(10));\n    btn.draw();\n    return btn;\n  }\n\n  function getPlusOneButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.PLUS_ONE);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 4;\n      let h = w / 2;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2 + 2 * w;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => updateGrid(1));\n    btn.draw();\n    return btn;\n  }\n\n  function getMinusTenButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.MINUS_TEN);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 4;\n      let h = w / 2;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => updateGrid(-10));\n    btn.draw();\n    return btn;\n  }\n\n  function getMinusOneButton() {\n    let btn = new PIXI.Sprite.from(CONST.ASSETS.MINUS_ONE);\n\n    btn.draw = () => {\n      let w = GRID_WIDTH / 4;\n      let h = w / 2;\n      btn.x = WINDOW_WIDTH / 2 - 1.10 * GRID_WIDTH / 2 + w;\n      btn.y = 0;\n      btn.width = w;\n      btn.height = h;\n    };\n\n    btn.interactive = true;\n    btn.on('pointerdown', () => updateGrid(-1));\n    btn.draw();\n    return btn;\n  } // Called on resize\n\n\n  function resize(newFrame) {\n    let frame;\n\n    if (newFrame) {\n      frame = newFrame;\n    } else {\n      frame = {\n        width: WINDOW_WIDTH,\n        height: WINDOW_HEIGHT\n      };\n    }\n\n    WINDOW_WIDTH = frame.width;\n    WINDOW_HEIGHT = frame.height; // Recompute\n\n    H_W_RATIO = newFrame.height / newFrame.width;\n    LANDSCAPE = H_W_RATIO < 3 / 4;\n    ARENA_WIDTH = LANDSCAPE ? 4 / 3 * newFrame.height : newFrame.width;\n    ARENA_HEIGHT = LANDSCAPE ? newFrame.height : 3 / 4 * newFrame.width;\n    GRID_HEIGHT = 0.75 * WINDOW_HEIGHT;\n    GRID_WIDTH = GRID_HEIGHT; // Set\n\n    backGround.width = WINDOW_WIDTH;\n    backGround.height = WINDOW_HEIGHT;\n    app.renderer.resize(WINDOW_WIDTH, WINDOW_HEIGHT);\n    gridNodes.draw();\n    gridCounters.draw();\n    lockButton.draw();\n    plusOneButton.draw();\n    minusOneButton.draw();\n    minusTenButton.draw();\n    plusTenButton.draw();\n  }\n\n  app.resize = frame => resize(frame); // Actions\n\n\n  function setPivot() {\n    console.log(\"state.pivot\", state.pivot);\n\n    if (state.pivot != null) {\n      console.log(\"unlocking\");\n      state.pivot = null;\n      lockButton.texture = UNLOCK_TEXTURE;\n      updateGrid(0);\n    } else {\n      console.log(\"locking\");\n      state.pivot = state.val;\n      lockButton.texture = LOCK_TEXTURE;\n    }\n  }\n\n  function updateGrid(inc) {\n    let newVal = state.val + inc;\n\n    if (newVal >= 0 && newVal <= 100) {\n      state.val = newVal;\n      let pivot = state.pivot,\n          val = state.val;\n      let count = 0;\n      gridCounters.grid.map((row, i) => {\n        row.map((e, j) => {\n          count += 1;\n\n          if (count <= val && !pivot) {\n            e.texture = BLUE_TEXTURE;\n          } else if (count <= val && count <= pivot) {\n            e.texture = BLUE_TEXTURE;\n          } else if (count <= val && count >= pivot) {\n            e.texture = RED_TEXTURE;\n          } else if (count >= val && count <= pivot) {\n            e.texture = EMPTY_TEXTURE;\n          } else {\n            e.texture = null;\n          }\n        });\n      });\n    }\n  } // Loading Script\n\n\n  function load() {\n    let features = {\n      'lock': true,\n      'fives': true,\n      'touchable': true\n    };\n\n    if (setup.props.features) {\n      features = setup.props.features;\n    } // Setup Background\n\n\n    backGround = new PIXI.Sprite.from(CONST.ASSETS.BLUE_GRADIENT);\n    backGround.width = WINDOW_WIDTH;\n    backGround.height = WINDOW_HEIGHT;\n    backGround.x = 0;\n    backGround.y = 0;\n    backGround.interactive = true;\n    backGround.on('pointerdown', updateGrid);\n    app.stage.addChild(backGround); // Initialize counters\n\n    gridNodes = new makeGridNodes(10);\n    gridCounters = new makeGridCounters(10);\n    plusTenButton = getPlusTenButton();\n    app.stage.addChild(plusTenButton);\n    plusOneButton = getPlusOneButton();\n    app.stage.addChild(plusOneButton);\n    minusTenButton = getMinusTenButton();\n    app.stage.addChild(minusTenButton);\n    minusOneButton = getMinusOneButton();\n    app.stage.addChild(minusOneButton);\n    lockButton = getLockButton();\n\n    if (features['lock']) {\n      app.stage.addChild(lockButton);\n    }\n  } // Call load script\n\n\n  load();\n};","map":{"version":3,"sources":["/Users/andrewfenner/Documents/MindResearch/Prototypes/newtestunit/src/js/hundredsarray.js"],"names":["PIXI","CONST","TweenMax","TimelineLite","Power2","Elastic","CSSPlugin","TweenLite","TimelineMax","init","app","setup","BLUE_TEXTURE","Texture","from","ASSETS","BLUE_CIRCLE","RED_TEXTURE","RED_CIRCLE","EMPTY_TEXTURE","EMPTY_CIRCLE","LOCK_TEXTURE","LOCKED_LOCK","UNLOCK_TEXTURE","UNLOCKED_LOCK","state","pivot","val","H_W_RATIO","height","width","WINDOW_WIDTH","WINDOW_HEIGHT","LANDSCAPE","ARENA_WIDTH","ARENA_HEIGHT","GRID_HEIGHT","GRID_WIDTH","lockButton","backGround","plusOneButton","plusTenButton","minusTenButton","minusOneButton","gridCounters","gridNodes","makeGridNodes","dim","grid","i","row","j","newNode","Graphics","stage","addChild","push","draw","dx","dy","w","h","map","r","e","x","y","clear","beginFill","drawCircle","makeGridCounters","newCounter","Sprite","texture","anchor","set","getLockButton","btn","interactive","on","setPivot","getZeroButton","ZERO_OUT","getPlusTenButton","PLUS_TEN","updateGrid","getPlusOneButton","PLUS_ONE","getMinusTenButton","MINUS_TEN","getMinusOneButton","MINUS_ONE","resize","newFrame","frame","renderer","console","log","inc","newVal","count","load","features","props","BLUE_GRADIENT"],"mappings":"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","sourcesContent":["import * as PIXI from \"pixi.js\";\nimport * as CONST from \"./const.js\";\nimport { TweenMax, TimelineLite, Power2, Elastic, CSSPlugin, TweenLite, TimelineMax } from \"gsap/TweenMax\";\n\nexport const init = (app, setup) => {\n\n  // Constants\n  const BLUE_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.BLUE_CIRCLE)\n  const RED_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.RED_CIRCLE)\n  const EMPTY_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.EMPTY_CIRCLE)\n  const LOCK_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.LOCKED_LOCK)\n  const UNLOCK_TEXTURE = new PIXI.Texture.from(CONST.ASSETS.UNLOCKED_LOCK)\n\n // State - can be used to reconstruct the app at any point in time.\n  let state = {\n    pivot: null,\n    val: 0,\n  }\n\n  // Parameters (Only changes on resize)\n  let H_W_RATIO = setup.height/setup.width\n  let WINDOW_WIDTH = setup.width\n  let WINDOW_HEIGHT = setup.height\n  let LANDSCAPE = H_W_RATIO < 3/4\n  let ARENA_WIDTH = LANDSCAPE ? 4/3*setup.height : setup.width\n  let ARENA_HEIGHT = LANDSCAPE ? setup.height : 3/4*setup.width\n  let GRID_HEIGHT = 0.75*WINDOW_HEIGHT\n  let GRID_WIDTH = GRID_HEIGHT\n\n  // Entities - objects that appear on screen\n  let lockButton;\n  let backGround;\n  let plusOneButton;\n  let plusTenButton;\n  let minusTenButton;\n  let minusOneButton;\n  let gridCounters;  // Circles that represent numbers\n  let gridNodes;  // Placeholders / small dots\n \n  // Constructors (should not be called on re-draw)\n  // START HERE: Let's try ot make this grid a container object and give it a redraw property.\n\n\n  function makeGridNodes(dim){\n      this.grid = []\n      // State: Texture: {Hollow,Blue,Red,None} , Hidden: {True,False}\n      for (let i = 0;i<dim;i++){\n        let row = []\n        for (let j = 0;j<dim;j++) {\n          let newNode = new PIXI.Graphics()\n          app.stage.addChild(newNode)\n          row.push(newNode)\n        }\n        this.grid.push(row)\n     }\n     // Draw function\n      this.draw = () => {\n        let dx = GRID_WIDTH/dim\n        let dy = dx\n        let w = dx/5\n        let h = w\n        this.grid.map((r,i)=>{\n          r.map(((e,j)=>{\n            let x = WINDOW_WIDTH/2 - dim/2*dx + dx*j\n            let y = WINDOW_HEIGHT/2 + dim/2*dy - dy*i\n            e.clear()\n            e.beginFill(0x000000)\n            e.drawCircle(x,y,w/2)\n          }))\n        })\n      }\n      this.draw()\n  }\n\n  function makeGridCounters(dim){\n    this.grid = []\n    // State: Texture: {Hollow,Blue,Red,None} , Hidden: {True,False}\n    for (let i = 0;i<dim;i++){\n      let row = []\n      for (let j = 0;j<dim;j++) {\n        let newCounter = new PIXI.Sprite()\n        newCounter.texture = null\n        newCounter.anchor.set(0.5)\n        app.stage.addChild(newCounter)\n        row.push(newCounter)\n      }\n      this.grid.push(row)\n   }\n   // Draw function\n    this.draw = () => {\n      let dx = GRID_WIDTH/dim\n      let dy = dx\n      let w = dx\n      let h = w\n      this.grid.map((r,i)=>{\n        r.map(((e,j)=>{\n          let x = WINDOW_WIDTH/2 - dim/2*dx + dx*j\n          let y = WINDOW_HEIGHT/2 + dim/2*dy - dy*i\n          e.x = x \n          e.y = y\n          e.width = w\n          e.height = h\n        }))\n      })\n    }\n    this.draw()\n}\n\n  function getLockButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.UNLOCKED_LOCK)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/8\n      let h = w*0.8\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2 + -w\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',()=>setPivot())\n    btn.draw()\n    return btn;\n  }\n\n  function getZeroButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.ZERO_OUT)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/8\n      let h = w*0.8\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2 + -w\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',()=>setPivot())\n    btn.draw()\n    return btn;\n  }\n\n  function getPlusTenButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.PLUS_TEN)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/4\n      let h = w/2\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2 + 3*w\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',()=>updateGrid(10))\n    btn.draw()\n    return btn;\n  }\n\n  function getPlusOneButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.PLUS_ONE)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/4\n      let h = w/2\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2 + 2*w\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',() => updateGrid(1))\n    btn.draw()\n    return btn;\n  }\n\n  function getMinusTenButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.MINUS_TEN)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/4\n      let h = w/2\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',()=>updateGrid(-10))\n    btn.draw()\n    return btn;\n  }\n\n  function getMinusOneButton(){\n    let btn  = new PIXI.Sprite.from(CONST.ASSETS.MINUS_ONE)\n\n    btn.draw = () => {\n      let w = GRID_WIDTH/4\n      let h = w/2\n      btn.x = WINDOW_WIDTH/2 - 1.10*GRID_WIDTH/2 + w\n      btn.y = 0\n      btn.width = w\n      btn.height = h\n    } \n\n    btn.interactive = true\n    btn.on('pointerdown',()=>updateGrid(-1))\n    btn.draw()\n    return btn;\n  }\n\n  // Called on resize\n  function resize(newFrame){\n    \n    let frame;\n    if (newFrame){\n      frame = newFrame\n    } else {\n      frame = {width: WINDOW_WIDTH,height: WINDOW_HEIGHT}\n    }\n    WINDOW_WIDTH = frame.width\n    WINDOW_HEIGHT = frame.height\n    // Recompute\n    H_W_RATIO= newFrame.height/newFrame.width\n    LANDSCAPE = H_W_RATIO < 3/4\n    ARENA_WIDTH = LANDSCAPE ? 4/3*newFrame.height : newFrame.width\n    ARENA_HEIGHT = LANDSCAPE ? newFrame.height : 3/4*newFrame.width\n    GRID_HEIGHT = 0.75*WINDOW_HEIGHT\n    GRID_WIDTH = GRID_HEIGHT\n\n    // Set\n    backGround.width = WINDOW_WIDTH\n    backGround.height = WINDOW_HEIGHT\n    app.renderer.resize(WINDOW_WIDTH,WINDOW_HEIGHT)\n    gridNodes.draw()\n    gridCounters.draw()\n    lockButton.draw()\n    plusOneButton.draw()\n    minusOneButton.draw()\n    minusTenButton.draw()\n    plusTenButton.draw()\n\n  }\n\n  app.resize = (frame) => resize(frame)\n\n  // Actions\n  function setPivot(){\n    console.log(\"state.pivot\",state.pivot)\n    if (state.pivot != null){\n      console.log(\"unlocking\")\n      state.pivot = null\n      lockButton.texture = UNLOCK_TEXTURE\n      updateGrid(0)\n    } else {\n      console.log(\"locking\")\n      state.pivot = state.val\n      lockButton.texture = LOCK_TEXTURE\n    }\n  }\n\n  function updateGrid(inc){\n    let newVal = state.val + inc \n    if (newVal >= 0 && newVal <= 100) {\n      state.val = newVal\n      let {pivot,val} = state\n      let count = 0\n      gridCounters.grid.map((row,i)=>{\n        row.map((e,j)=>{\n          count += 1\n        if (count <= val && !pivot) {\n            e.texture = BLUE_TEXTURE\n        } else if (count <= val && count <= pivot){\n            e.texture = BLUE_TEXTURE\n        } else if (count <= val && count >= pivot) {\n            e.texture = RED_TEXTURE\n        } else if (count >= val && count <= pivot){\n          e.texture = EMPTY_TEXTURE\n        } else {\n          e.texture = null\n        }\n        })\n      })\n    }\n  }\n\n  // Loading Script\n  function load(){\n    let features = {'lock': true,'fives': true,'touchable': true}\n    if (setup.props.features){\n      features = setup.props.features\n    }\n\n    // Setup Background\n    backGround = new PIXI.Sprite.from(CONST.ASSETS.BLUE_GRADIENT);\n    backGround.width = WINDOW_WIDTH\n    backGround.height = WINDOW_HEIGHT\n    backGround.x = 0;\n    backGround.y = 0;\n    backGround.interactive = true\n    backGround.on('pointerdown',updateGrid)\n    app.stage.addChild(backGround)\n\n    // Initialize counters\n    gridNodes = new makeGridNodes(10)\n    gridCounters = new makeGridCounters(10)\n\n    plusTenButton = getPlusTenButton()\n    app.stage.addChild(plusTenButton)\n\n    plusOneButton = getPlusOneButton()\n    app.stage.addChild(plusOneButton)\n\n    minusTenButton = getMinusTenButton()\n    app.stage.addChild(minusTenButton)\n\n    minusOneButton = getMinusOneButton()\n    app.stage.addChild(minusOneButton)\n\n    lockButton = getLockButton()\n    if (features['lock']){\n      app.stage.addChild(lockButton)\n    }\n    \n  }\n  // Call load script\n  load()\n};\n"]},"metadata":{},"sourceType":"module"}